# Copilot Instructions for NET Changesets

This guide enables AI coding agents to work productively in the NET Changesets codebase. It summarizes architecture, workflows, conventions, and integration points unique to this project.

## Project Overview
- **Purpose:** .NET CLI tool for managing versioning and changelogs in multi-package repositories, inspired by `@changesets/cli` (npm).
- **Key Features:** Unified changelog generation, semantic versioning across dependencies, NuGet publishing, interactive CLI.
- **Main Solution:** `SolarWinds.Changesets.sln` with core code in `src/SolarWinds.Changesets/`.

## Architecture & Components
- **Commands:** Each CLI command (`add`, `init`, `publish`, `status`, `version`) is implemented in `src/SolarWinds.Changesets/Commands/`.
- **Services:** Cross-cutting logic (e.g., Git, dotnet operations) in `src/SolarWinds.Changesets/Services/`.
- **Shared:** Common models, configuration, and utilities in `src/SolarWinds.Changesets/Shared/`.
- **Infrastructure:** Dependency injection and type resolution in `src/SolarWinds.Changesets/Infrastructure/`.
- **Tests:** Located in `tests/SolarWinds.Changesets.Tests/`, organized by command and feature.

## Developer Workflows
- **Build:**
  - Use `dotnet build SolarWinds.Changesets.sln` to build all projects.
- **Test:**
  - Run `dotnet test tests/SolarWinds.Changesets.Tests/SolarWinds.Changesets.Tests.csproj` for unit/integration tests.
- **Pack/Publish:**
  - Use `dotnet pack` and `dotnet nuget push` for manual NuGet operations.
  - The `publish` command automates packaging and pushing via CLI.
- **Tool Installation:**
  - Install globally: `dotnet tool install solarwinds.changesets --global`

## Conventions & Patterns
- **Configuration:**
  - Main config: `.changeset/config.json` (see `docs/config-file-options.md`).
  - Default `sourcePath` is `src`, default `packageSource` is `nuget`.
- **Changeset Files:**
  - Created in `.changeset/` by the `add` command; filenames are random lowercase letters.
  - Each file describes affected projects, change type (patch/minor/major), and description.
- **Changelog:**
  - Unified `CHANGELOG.md` at repo root, generated by the tool.
- **Testing:**
  - All changes must be covered by tests in `tests/SolarWinds.Changesets.Tests/`.
- **Dependencies:**
  - Only allowed third-party dependency is `Spectre.Console`.
- **Branching/Commits:**
  - Branch names: `type/issueID-title` (e.g., `feature/123-new-command`).
  - Commit messages start with issue ID.

## Integration Points
- **NuGet:** Publishing uses official or custom sources as defined in `NuGet.config`.
- **Git:** Uses `git diff` to detect changed projects for publishing.
- **CI:** GitHub Actions workflows in `.github/workflows/` for CI and code scanning.

## Examples
- To add a changeset interactively: `changeset add`
- To publish updated packages: `changeset publish`
- To generate changelogs and bump versions: `changeset version`

## References
- See `README.md`, `docs/commands-implementation-details.md`, and `docs/config-file-options.md` for more details.
- Contribution guidelines: `CONTRIBUTING.md`
- Roadmap: `ROADMAP.md`

---

**Feedback:** If any section is unclear or missing, please specify so it can be improved for future AI agents.
